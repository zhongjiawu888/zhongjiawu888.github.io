---
layout : life
title: linux下定时任务
category : linux学习
duoshuo: true
date : 2015-01-22
---


<!-- more -->

***crontab 定时任务命令***

```sh
crontab命令选项
	 -U指定一个用户
	 -l列出某个用户的任务计划
	 -r删除某个用户的计划
	 -e编辑某个用户的任务(/var/)
```

***cron文件语法***

|分|小时|日|月|星期|命令|
|:------:|:------:|:------:|:------:|:------:|:------:|
|0-59|0-23|1-12|0-6|command|

特殊符号含义:

* "*" 代表取值范围内的数字
* "/" 代表每
* "-" 代表从某个数字到某个数字
* "," 分开几个离散的数字

**每个字段代表的含义如下:**

|字段|含义|
|:------:|:------:|
|minute|每小时的第几分钟执行该任务|
|hour|每天的第几个小时执行该任务|
|day|每月第几天执行该任务|
|month|每年的第几个月执行该任务|
|dayofweek|每周第几天执行该任务|
|command|指定要执行的程序|

**例子:**

```sh
5 	* 	* 	* 	*  	ls      指定每小时的第五分钟执行一次ls命令
30 	5	*	*	*	ls	指定每天5:30执行ls命令
30	7	8	*	*	ls	执行每月8号7:30分执行ls命令
30	5	8	6	*	ls	每年的6月8号5:30执行ls命令
30	6	*	*	0	ls	指定每星期日的6:30执行ls命令[0代表星期天以此类推]
30	3	10,20   *	*	ls	每月10号及20号的3:30执行命令ls[","用来链接多个不连续的时段]
25	8-11	*	*	*	ls	每天8-11点的第25分钟执行ls命令["-"用来链接连续的时段]
*/15	*	*	*	*	ls	每15分钟执行一次ls命令[即每个小时的第0 15 30 45 60分钟执行ls命令]
30	6	*/10	*	*	ls	每隔10天6:30执行一次ls命令[即每月1,11,21,31日的6:30执行一次ls]
50	7	*	*	*	root run-parts /etc/cron.daily	{run-parts 参数表示,执行后面目录中的所有可执行文件}
```

***增加任务调度***

* 在命令行输入:crontab -e 然后添加相应的任务,wq存盘退出;
* 直接编辑 ```/etc/crontab```文件,即```vi /etc/crontab```,添加相应的任务;

***查看调度任务***

* crontab -l //列出当前的所有调度任务
* crontab -l u daodaoliang  //列出用户daodaoliang所有调度任务

***删除调度任务***

* crontab -r //删除所有任务调度工作


